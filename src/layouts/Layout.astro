---
import DefaultHeader from "../components/DefaultHeader.astro"
import { DarkModeSkeleton } from "../components/Preact/DarkModeSkeleton"
import { useI18n } from "../i18n/ui"
import { Icon } from "astro-icon"

interface Props {
  title: string
}

const { title } = Astro.props
const { lang } = useI18n(Astro.url)
---

<!doctype html>
<html lang={lang} transition:persist>
  <head>
    <DefaultHeader {title} />
  </head>
  <body
    class="bg-background selection:bg-highlight dark:bg-background-dark text-regular-text transition-colors selection:bg-highlightOff relative antialiased"
  >
    <main
      transition:name="main"
      transition:animate="slide"
      class="flex flex-col min-h-screen w-full relative"
    >
      <slot />
    </main>
    <DarkModeSkeleton
      client:only="preact"
      className="absolute min-h-[1vh] min-w-[1vw] left-4 top-4 z-50 flex h-7 w-7 items-center justify-center print:hidden"
      transition:name="darkMode"
      Dark
      Light
    >
      <Icon slot="Dark" name="radix-icons:moon" loading="eager"/>
      <Icon slot="Light" name="radix-icons:sun" loading="eager"/>
    </DarkModeSkeleton>
  </body>
</html>
