---
import type { GetStaticPaths } from "astro";
import LinksFooter from "../../components/Footer/LinksFooter.astro";
import CornerText from "../../components/CornerText.astro";
import StartCard from "../../components/StartCard.astro";
import LayoutWithTransitions from "../../layouts/LayoutWithTransitions.astro";
import BlinkingText from "../../components/Preact/BlinkingText";
import SinglePageContainer from "../../components/SinglePageContainer.astro";
import { ui } from "../../i18n/ui";
import {
  getLangFromUrl,
  useRelativeLocaleURL,
  useTranslations,
} from "../../i18n/utils";

export const getStaticPaths = (() => {
  return Object.keys(ui).map((lang) => ({
    params: {
      locale: lang,
    },
  }));
}) satisfies GetStaticPaths;

const getLink = useRelativeLocaleURL(Astro.url);
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<LayoutWithTransitions title="Home">
  <SinglePageContainer>
    <!-- <CornerText className="top-0 -right-1/3 rotate-45" /> -->
    <div class="mt-auto"></div>
    <div
      class="mx-auto gap-y-4 flex flex-col max-w-md w-full bg-surfaceBackground p-6 rounded-md bg-opacity-20 backdrop-blur-xl dark:bg-neutral-200 dark:bg-opacity-20"
    >
      <div class="text-left text-xl font-mono font-bold">
        <!-- <p class="text-highlight text-3xl">NAME HEREHERE NAME</p> -->
        <BlinkingText
          text="NAME HEREHERE NAME"
          class:list={"text-3xl"}
          classOn="text-highlight"
          classOff="text-regularText"
          odds={0.8}
          interval={2000}
          client:load
        />
        <span class="text-highlight">TS Developer</span>
      </div>
      <a
        href={getLink("about")}
        class={"p-3 group/card hover:cursor-pointer selection:bg-transparent rounded-md backdrop-shadow-md ring-opacity-40 ring-2 ring-regularText drop-shadow-xl bg-opacity-40 hover:bg-regularText transition-colors"}
      >
        <span
          class="text-xl text-left font-bold font-mono group-hover/card:text-neutral-800 transition-colors"
          transition:name="title"
          transition:animate="slide"
          >{t("nav.about")}
        </span>
        <span class="float-right"> &rarr;</span>
      </a>
      <!-- <StartCard title={t("nav.about")} href={getLink("/about")} /> -->
      <!-- <StartCard title={t("nav.about")} href={getLink("/about")} /> -->
    </div>
    <div class="mt-auto"></div>
    <!-- <LinksFooter class="pb-2" /> -->
  </SinglePageContainer>
</LayoutWithTransitions>
